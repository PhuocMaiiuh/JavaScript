<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>baitap2</title>
	<style>
		.images { margin: 16px 0; }
		.images img { max-width: 600px; display: block; margin-bottom: 8px; }
		.error { color: red; }
	</style>
</head>
<body>
	<h1>Image loader</h1>
	<div class="images"></div>
	<div id="msg"></div>

	<script>
		const imgContainer = document.querySelector('.images');
		const msg = document.getElementById('msg');
		let currentImg;

		function createImage(imgPath) {
			return new Promise((resolve, reject) => {
				const img = document.createElement('img');
				img.src = imgPath;

				img.addEventListener('load', () => {
					imgContainer.appendChild(img);
					resolve(img);
				});

				img.addEventListener('error', () => {
					reject(new Error(`Image failed to load: ${imgPath}`));
				});
			});
		}

		function wait(seconds) {
			return new Promise(resolve => setTimeout(resolve, seconds * 1000));
		}


		createImage('img/img-1.jpg')
			.then(img => {
				currentImg = img;
				return wait(2);
			})
			.then(() => {
				if (currentImg) currentImg.style.display = 'none';
				return createImage('img/img-2.jpg');
			})
			.then(img => {
				currentImg = img;
				return wait(2);
			})
			.then(() => {
				if (currentImg) currentImg.style.display = 'none';
			})
			.catch(err => {
				console.error(err);
				msg.textContent = err.message;
				msg.className = 'error';
			});

	</script>
</body>
</html>
